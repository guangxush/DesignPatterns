## 业务建模之愿景

以一个待引入系统为研究对象，其愿景的定义是:在目标组织代表(老大)看来，引进该系统应该给组织带来的改进。

## 业务建模之业务用例图

对于软件开发来说，业务建模的目的是为了得到待引进软件系统的需求。

开发团队经常发现需求“容易变化”。根源之一是需求的来路不正，没有把系统当作一个零件放在 组织中来看，靠拍脑袋得出需求，导致得到的系统需求是错的。系统投入使用后，发现和组织的其他 零件格格不入，自然要改。“需求变化剧烈”是一个假象，真正的需求没有变，只不过一开始得到的需 求是假的。如果能正确运用业务建模技能，“需求变化”就会消于无形。

### 业务执行者(Business Actor)

以某组织为研究对象，在组织之外和组织交互的其他组织(人群或机构)就是该组织的执行者。 因为研究对象是一个组织，所以叫业务执行者。

### 业务工人和业务实体

组织内的人称为业务工人(Business Worker)，例如某商业银行里面的营业员。业务执行者和业 务工人的区别是:一个在组织外面，一个在组织里面;一个是组织不可替换的服务对象，一个是组织 可以替换的零件。

### 识别业务用例

业务用例指业务执行者希望通过和所研究组织交互获得的价值。

业务用例刷新了业务流程的概念。我们把业务流程看作是业务用例的实现，将其组织在业务用例 的下面。组织内部之所以有业务流程，是因为要实现业务用例。组织里发生的一切都是为了给业务执 行者提供价值。

业务用例是组织对组织的服务，相对于系统为系统提供的服务(系统用例)来说，所需要的时间 是比较长的，不能把用例实现过程中的某个交互片段当成用例。

识别业务用例有两条思路:一条是从业务执行者开始，思考业务执行者和组织交互的目的;另一
条是通过观察组织的内部活动，一直问为什么，向外推导出组织外部的某个业务执行者。第一条路线 是主要的，第二条路线用于补漏。

业务用例代表从组织视角看问题的高度。一个组织内部的所有零件，都应该从组织价值的角度来 认识。

### 业务建模之业务序列图

序列图和活动图比较:
- 活动图只关注人，序列图把人当作系统
- 活动图表示动作，序列图强迫思考动作背后的目的
- 活动图“灵活”，序列图不“灵活”

业务序列图要点:
序列图最重要的要点是消息的含义。A指向B的消息，代表“A请求B 做某事”，或者“A调用B做某事的服务”
- 业务建模的研究对象是组织，出现在业务序列图生命线上的对象，其最小颗粒是系统，包括人和 非人系统。
- 不要把把不具备任何智能的物体放到了业务序列图的生命线上
- 只画核心域相关的系统
- 把时间看作特殊的业务实体
- 为业务对象分配合适的责任

描述现状时经常犯的错误：
- 把想象中的改进当成现状
- 把“现状”误解为“纯手工”
- 把“现状”误解为“本开发团队未参与之前”
- 把“现状”误解为“规范”
- “我是创新，没有现状!”
- “我做产品，没有现状!”

### 改进业务序列图
- 物流变成信息流
- 改善信息流转
- 封装领域逻辑
- 阿布思考法：假设有充足的资源去解决问题，得到一个完美的方案，用手上现有的资源去山寨这个完美方案


## 需求之系统用例图

 
### 系统执行者要点

系统执行者的定义:在所研究系统外，与该系统发生功能性交互的其他系统。

- 系统是能独立对外提供服务的整体
- 系统边界是责任的边界
- 系统执行者和系统有交互
- 交互是功能性交互
- 系统执行者可以是人或非人系统

### 识别系统执行者

从业务序列图映射系统执行者

### 系统用例要点

- 价值是买卖的平衡点：系统能够为执行者提供的、涉众可以接受的价值。
- 价值不等于“可以这样做”：一个系统的用例最好控制在××个之内、一个用例的基本 路径最好控制在×步到×步之间......这些是没有根据的。市场需要各种各样的系统，有功能众多的也有 功能单一的，有一步到位的也有交互复杂的。
- 增删改查用例的根源是从设计映射需求
- 从设计映射需求错误二:“复用”用例
- 系统用例不存在层次问题
- 用例的命名是动宾结构

### 识别系统用例

业务序列图中，从外部指向所研究系统的消息，可以映射为该系统的用例。

有的箭头是从执行者指向用例，这样的执行者称为用例的主执行者，有的箭 头是从用例指向执行者，这样的执行者称为用例的辅执行者。主执行者主动发起用例的交互，辅执行 者在交互的过程中被动参与进来。

## 需求之系统用例规约

### 用例规约的内容

用例图表达了用例的目标，但是对于完整的需求来说，这是远远不够的。用例的背后封装了不同 级别的相关需求，我们需要通过书写用例规约把这些需求表达出来。
用例规约就是以用例为核心来组织需求内容的需求规约。有了用例规约，可以不需要另外写其他格式的需求规约。

### 前置条件和后置条件

用例通过前置条件(precondition)、后置条件(postcondition)以契约的形式表达需求。用例 相当于系统的一个承诺:在满足前置条件时开始，按照里面的路径步骤走，系统就能到达后置条件。
- 前置条件:用例开始前，系统需要满足的约束。
- 后置条件:用例成功结束后，系统需要满足的约束。
- 前置条件、后置条件必须是系统能检测的。
- 前置条件必须是用例开始前系统能检测到的。
- 前置后置条件是状态，不是动作。
- 前置后置条件要用核心域词汇描述。
- “已登录”不应作为前置条件。

### 基本路径

- 按照交互四步曲书写
- 使用主动语句理清责任
- 主语只能是主执行者或系统
- 使用核心域术语描述
- 不要涉及界面细节
- 不要涉及交互细节
- 需求是“不这样不行”
- 扩展路径：能感知和要处理的意外才是扩展，设计技能不足导致的错误不是扩展，不引起交互行为变化的选择不是扩展，界面跳转不是扩展
- 补充约束：字段列表，业务规则，质量需求（可用性，性能，可靠性，可支持性，设计约束）































